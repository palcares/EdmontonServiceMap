<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#00338D">
  <title>Edmonton Crisis Services Navigator</title>

  <!-- Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <!-- App CSS -->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

  <header class="app-header">
    <h1>Edmonton Crisis Services Navigator</h1>
    <p class="subtitle">Find the right support, right now</p>
  </header>

  <!-- Tab Navigation -->
  <nav class="tab-bar" role="tablist">
    <div class="tab-indicator"></div>
    <button class="tab active" data-tab="map" role="tab" aria-selected="true">
      <span class="tab-icon"></span>
      <span class="tab-label">Map</span>
    </button>
    <button class="tab" data-tab="decision-tree" role="tab" aria-selected="false">
      <span class="tab-icon"></span>
      <span class="tab-label">What To Do</span>
    </button>
    <button class="tab" data-tab="connections" role="tab" aria-selected="false">
      <span class="tab-icon"></span>
      <span class="tab-label">Connections</span>
    </button>
  </nav>

  <!-- Tab Content -->
  <main class="tab-content">

    <!-- MAP TAB -->
    <section id="tab-map" class="tab-panel active" role="tabpanel">
      <div id="map" class="map-container"></div>
      <div class="map-search" id="map-search">
        <div class="search-input-wrap">
          <span class="search-icon"></span>
          <input type="text" id="search-input" placeholder="Search services..." autocomplete="off">
          <button class="search-clear" id="search-clear" style="display:none">&times;</button>
        </div>
        <div class="search-results" id="search-results" style="display:none"></div>
      </div>
      <div class="map-legend" id="map-legend"></div>
    </section>

    <!-- DECISION TREE TAB -->
    <section id="tab-decision-tree" class="tab-panel" role="tabpanel">
      <div class="time-controls">
        <label for="time-slider">
          <span id="time-mode">Live</span>: <span id="time-display"></span>
        </label>
        <input type="range" id="time-slider" min="0" max="1439" step="1">
        <button id="time-reset" class="btn-small">Use current time</button>
      </div>
      <div id="decision-tree-container"></div>
    </section>

    <!-- CONNECTIONS TAB -->
    <section id="tab-connections" class="tab-panel" role="tabpanel">
      <div id="connections-container"></div>
    </section>

  </main>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- App JS -->
  <script src="js/icons.js"></script>
  <script src="js/services.js"></script>
  <script src="js/map.js"></script>
  <script src="js/decision-tree.js"></script>
  <script src="js/connections.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
